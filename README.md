# UCI Canvas LMS Assignment Fetcher

![Python](https://img.shields.io/badge/Python-3.13.7-blue)
![FastAPI](https://img.shields.io/badge/FastAPI-0.128.0-lightgrey)

## About

A Python module and FastAPI server for retrieving upcoming assignments from the UCI Canvas LMS using the Canvas GraphQL API.

Includes instructions on how to host the FastAPI server locally.

Includes instructions for using the local server with the iOS Shortcuts app to import upcoming assignments into the iOS Reminders app.

---

## Features

- Fetch assignments with due dates for all Canvas courses.
- Store information about the assignments such as including course name, assignment name, and due date.
- Filter assignments due within a specified number of weeks.
- Easy to adapt for other universities by updating the base Canvas URL.
- Run a Python module that hosts a FastAPI server locally without using the command line.
- Display information about upcomming assignments on the local server.
- Access the local server across multiple devices on the same network using a simple URL.

---

## Local Sever Integration with iOS Shortcuts

Following the guide to host a local server with `HTTPS` and use the iOS Shortcuts app, users can:

- Import upcoming assignments directly into the iOS Reminders app.
- Sync assignments on demand from your local FastAPI server.
- View assignment reminders on the iOS Calendar app.

---

## Requirements

- Stable iternet connection on a Windows PC.
- Text editor to edit Python files.

---

## Installation on Windows

1. Clone the repository into a directory on your PC.  
   Alternatively, you may manually download `canvas_assignment_api.py`, `server.py`, and `requirements.txt` into the same directory.

2. Create a Python virtual environment **(highly recommended)** in the project directory.  
   Navigate to the project directory using Command Prompt and run:
   ```bash
   python -m venv venv
3. Activate the virtual environment by running:
   ```bash
   venv\Scripts\activate
4. Install the dependences by running:
   ```bash
   pip install -r requirements.txt
   ```
   This will install the FastAPI and Uvicorn libraries listed in requirements.txt.

---

## Configuration

The canvas_assignment_api.py module will require users to hard code their information for the TOKEN, BASE_URL, AND WEEKS_DELTA listed at the top of the module. 
  - TOKEN represents a Canvas Access Token. This is used to provide access into Canvas and can be generated by following [this guide](https://community.instructure.com/en/kb/articles/662901-how-do-i-manage-api-access-tokens-in-my-user-account). Since the program currently hardcodes this   information, users should take extra precaution not to carelessly share their personal program. This project does not store, transmit, or share Canvas access tokens in any way. The token is used only for authenticating API requests from the local machine. The project assumes no responsibility for any issues or damages resulting from misuse of a generated Canvas access token.
  - The BASE_URL represents the Canvas LMS site admistered by colleges. It is set by default to use the Canvas LMS URL from UC Irvine (working as of 2026). Users must change this to their own Canvas LMS URL if they do not attend UC Irvine.
  - WEEKS_DELTA represents the number of weeks from the current date the program will include into a list of upcoming assignmnents. It is set by default as `2` weeks from the day the program is run.

The server.py moudle will require users to hardcode their information for the WEEKS_DELTA listed at the top of the module. This performs the same purpose as the WEEKS_DELTA explained above, however the WEEKS_DELTA in server.py will always override any other weeks deltas if the server is run.
  - WEEKS_DELTA represents the number of weeks from the current date the program will include into a list of upcoming assignmnents. It is set by default as `2` weeks from the day the program is run.

Each of these variables are hard coded on a user's local machine. This program does not have access or transmit them in any way. It is the user's responsibility to properly use their token, base url, and to configure their desired weeks delta.

---

## Usage

### `canvas_assignment_api.py`

Running `canvas_assignment_api.py` fetches upcoming assignments from Canvas and prints them to the terminal as an unformatted list of dictionaries. This module does not host a server.

### `server.py`

Running `server.py` starts a local FastAPI server that serves upcoming assignment data in JSON format.

- The server runs over **HTTP only** by default.
- The server URL is displayed in the terminal when started.
- Only devices on the same local network can access the endpoint.

**Note:** The default HTTP server is **not compatible with iOS Shortcuts**, which requires HTTPS.

### HTTPS and iOS Integration

To enable HTTPS and iOS compatibility, users must either:
- Configure `uvicorn.run` with a signed SSL certificate and key, or  
- Use a port-forwarding service (such as **ngrok**) to expose the local server over HTTPS.

This guide does not cover SSL certificate setup.

**Disclaimer:** This project assumes no responsibility for issues resulting from improper use of SSL certificates or port-forwarding tools. Proceed at your own risk.

---

### iOS Integration

Please ensure that the local server URL uses HTTPS before proceeding with this section of the guide.

iOS integration will require the iOS Shortcuts app and iOS Reminders app.

The shortcut shown below will allow for your iOS device to connect to the URL, extract the assignment data, and parse it into individual reminders.



   
